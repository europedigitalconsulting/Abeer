@page "/Profile/Edit"
@attribute [Authorize(Policy = "OnlySubscribers")]
@inject Microsoft.Extensions.Localization.IStringLocalizer<EditProfile> Loc

<section class="section">  
    <EditForm Model="User">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="card">
            <div class="card-body">
                <div class="form-row">
                    <div class="form-group col-lg-6 col-sm-12">
                        <input class="form-control" @bind="@User.DisplayName" placeholder="@Loc["DisplayName"]" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-sm-12">
                        <label>@Loc["Description"]</label>
                        <textarea @bind="@User.Description" Class="form-control h-100" rows="6" cols="6" />
                    </div>
                </div>     <br />
                <div class="form-row">
                    <div class="form-group col-lg-6  col-sm-12">
                        <input type="text" @bind="@User.Email" Class="form-control" readonly />
                    </div>
                    <div class="form-group col-lg-6 col-sm-12">
                        <input type="text" Class="form-control" @bind="@User.PhoneNumber" placeholder="@Loc["Phone"]" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-lg-6  col-sm-12">
                        <input type="text" @bind="@User.FirstName" Class="form-control" placeholder="@Loc["FirstName"]" />
                    </div>
                    <div class="form-group col-lg-6 col-sm-12">
                        <input type="text" @bind="@User.LastName" Class="form-control" placeholder="@Loc["LastName"]" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-lg-6 col-sm-12">
                        <input type="text" @bind="@User.City" Class="form-control" placeholder="@Loc["City"]" />
                    </div>
                    <div class="form-group col-lg-6 col-sm-12">
                        <input type="text" @bind="@User.Country" Class="form-control" placeholder="@Loc["Country"]" />
                    </div>
                </div>
                <div class="form-row">
                    @if (SocialNetworkConnected?.Count > 0)
                    {

                        <div class="col-lg-6 col-md-12 col-sm-12">
                            <h5>@Loc["SocialNetworkConnected"]</h5>
                            <ul class="list-inline">
                                @foreach (var socialNetwork in SocialNetworkConnected)
                                {
                                    <li class="list-inline-item list-unstyled-noborder mr-4">
                                        <a href="@socialNetwork.Url" target="_blank" class="text-center">
                                            <i class="@socialNetwork.Logo" style="font-size: 55px;">

                                            </i>

                                        </a>
                                        <span class="badge position-absolute"><a @onclick="@(() => DeleteSocialNetwork(socialNetwork))"><i class="fa fa-2x fa-times"></i></a></span>
                                        <br />
                                        <span>@socialNetwork.Name</span>
                                    </li>
                                }
                            </ul>
                        </div>

                    }
                    @if (CustomLinks?.Count > 0)
                    {
                        <div class="col-lg-6 col-md-12 col-sm-12">
                            <h5>@Loc["CustomLinks"]</h5>
                            <ul class="list-inline">
                                @foreach (var customLink in CustomLinks)
                                {
                                    <li class="list-inline-item list-unstyled-noborder mr-4">
                                        <a href="@customLink.Url" target="_blank">
                                            <img src="@customLink.Logo" style="max-width: 55px; max-height: 55px" class="mr-1" />
                                        </a>
                                        <span class="badge position-absolute"> <a @onclick="@(() => DeleteCustomLink(customLink))"><i class="fa fa-2x fa-times"></i></a></span>
                                        <br />
                                        <span>@customLink.Name</span>
                                    </li>
                                }
                            </ul>
                        </div>}
                </div>
                <button type="submit" class="btn btn-success btn-circle btn-xl float-right ml-2" @onclick="Update" data-toggle="tooltip" data-html="true" title="@Loc["Save"]"><i class="fa fa-2x fa-save"></i></button>
            </div> 
        </div>
    </EditForm>
</section>